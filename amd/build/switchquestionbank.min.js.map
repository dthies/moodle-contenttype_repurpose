{"version":3,"file":"switchquestionbank.min.js","sources":["../src/switchquestionbank.js"],"sourcesContent":["import Fragment from 'core/fragment';\nimport ModalFactory from 'core/modal_factory';\nimport notification from 'core/notification';\nimport {get_string as getString} from 'core/str';\n\n/**\n * Initialize listeners\n *\n * @param {int} contextid Context id of content bank\n * @param {string} library Library identifier\n */\nexport const init = (contextid, library) => {\n    'use strict';\n\n    ModalFactory.create({\n        large: false,\n        title: getString('switchbank', 'core_question'),\n        type: ModalFactory.types.CANCEL,\n        body: 'content'\n    }).then(function(modal) {\n        document.addEventListener('click', e => {\n            const button = e.target.closest('input[name=\"switchquestionbank\"]');\n            const params = {\n                contextid: contextid,\n                library: library\n            };\n            if (button) {\n                e.stopPropagation();\n                e.preventDefault();\n                modal.setBody(Fragment.loadFragment(\n                    'contenttype_repurpose',\n                    'questionbank',\n                    contextid,\n                    params\n                ));\n                modal.show();\n            }\n        }, true);\n\n        return true;\n    }).fail(notification.exception);\n};\n"],"names":["contextid","library","create","large","title","type","ModalFactory","types","CANCEL","body","then","modal","document","addEventListener","e","button","target","closest","params","stopPropagation","preventDefault","setBody","Fragment","loadFragment","show","fail","notification","exception"],"mappings":"qgBAWoB,CAACA,UAAWC,kCAGfC,OAAO,CAChBC,OAAO,EACPC,OAAO,mBAAU,aAAc,iBAC/BC,KAAMC,uBAAaC,MAAMC,OACzBC,KAAM,YACPC,MAAK,SAASC,cACbC,SAASC,iBAAiB,SAASC,UACzBC,OAASD,EAAEE,OAAOC,QAAQ,oCAC1BC,OAAS,CACXlB,UAAWA,UACXC,QAASA,SAETc,SACAD,EAAEK,kBACFL,EAAEM,iBACFT,MAAMU,QAAQC,kBAASC,aACnB,wBACA,eACAvB,UACAkB,SAEJP,MAAMa,WAEX,IAEI,KACRC,KAAKC,sBAAaC"}