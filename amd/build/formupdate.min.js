define ("contenttype_repurpose/formupdate",["exports","core/fragment","core/notification","core/templates"],function(a,b,c,d){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;b=e(b);c=e(c);d=e(d);function e(a){return a&&a.__esModule?a:{default:a}}a.init=function init(a,b){document.removeEventListener("change",f.bind(window,a,b));document.addEventListener("change",f.bind(window,a,b))};var f=function(a,f,g){if(g.target.closest("#id_category, #id_recurse, #id_question, [data-action=\"update\"]")){g.stopPropagation();window.onbeforeunload=null;var e=g.target;while("form"!==e.nodeName.toLowerCase()){e=e.parentNode}var h=new FormData(e),i={};h.forEach(function(a,b){i[b]=a});var j={contextid:a,jsonformdata:JSON.stringify(i),library:f,plugin:"repurpose"};b.default.loadFragment("contenttype_repurpose","formupdate",a,j).done(function(a,b){d.default.replaceNodeContents(e,a,b);e.parentNode.insertBefore(e.firstChild,e);e.remove()}).fail(c.default.exception)}}});
//# sourceMappingURL=formupdate.min.js.map
