define ("contenttype_repurpose/formupdate",["exports","core/fragment","core/notification","core/templates"],function(a,b,c,d){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;b=e(b);c=e(c);d=e(d);function e(a){return a&&a.__esModule?a:{default:a}}a.init=function init(a,b){document.removeEventListener("change",f.bind(window,a,b));document.addEventListener("change",f.bind(window,a,b))};var f=function(a,g,h){if(h.target.closest("form #id_category, form #id_recurse, form #id_question, form [data-action=\"update\"]")){var e={},i=h.target.closest("form"),j=new FormData(i),k={contextid:a,jsonformdata:JSON.stringify(e),library:g,plugin:"repurpose"};h.stopPropagation();h.preventDefault();window.onbeforeunload=null;j.forEach(function(a,b){e[b]=a});k.jsonformdata=JSON.stringify(e);b.default.loadFragment("contenttype_repurpose","formupdate",a,k).done(function(b,c){document.removeEventListener("change",f.bind(window,a,g));d.default.replaceNodeContents(i,b,c);i.parentNode.insertBefore(i.firstChild,i);i.remove()}).fail(c.default.exception)}}});
//# sourceMappingURL=formupdate.min.js.map
