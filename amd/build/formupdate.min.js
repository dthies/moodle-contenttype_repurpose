define ("contenttype_repurpose/formupdate",["exports","core/fragment","core/notification","core/templates"],function(a,b,c,d){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default=void 0;b=e(b);c=e(c);d=e(d);function e(a){return a&&a.__esModule?a:{default:a}}var f=function(a,b,c){if(c.target.closest("form #id_category, form #id_recurse, form #id_question, form [data-action=\"update\"]")){var d=c.target.closest("form");c.stopPropagation();c.preventDefault();g(a,b,d)}},g=function(a,e,f){var h={},i=new FormData(f),j={contextid:a,library:e,plugin:"repurpose"};window.onbeforeunload=null;i.forEach(function(a,b){h[b]=a});j.jsonformdata=JSON.stringify(h);b.default.loadFragment("contenttype_repurpose","formupdate",a,j).done(function(b,c){document.removeEventListener("change",g.bind(window,a,e));d.default.replaceNodeContents(f,b,c);f.parentNode.insertBefore(f.firstChild,f);f.remove()}).fail(c.default.exception)};a.default={init:function init(a,b){document.removeEventListener("change",f.bind(window,a,b));document.addEventListener("change",f.bind(window,a,b))},updateForm:g};return a.default});
//# sourceMappingURL=formupdate.min.js.map
